{"ast":null,"code":"import Axios from \"axios\";\nimport { LAY_DANH_SACH_PHIM_ACTION } from \"../const/QuanLyPhimConst\";\nimport { LAY_DANH_SACH_RAP_ACTION } from \"../const/QuanLyPhimConst\";\nimport { LAY_LICH_CHIEU_HE_THONG_RAP_ACTION } from \"../const/QuanLyPhimConst\";\nimport { ACCESSTOKEN, DOMAIN } from \"../../Util/Config\";\nexport const layDanhSachPhimApiAction = async () => {\n  return async dispatch => {\n    try {\n      const {\n        data,\n        status\n      } = await Axios({\n        url: DOMAIN + \"/api/QuanLyPhim/LayDanhSachPhim?maNhom=GP01\",\n        method: \"GET\"\n      });\n\n      if (status === 200) {\n        dispatch({\n          type: LAY_DANH_SACH_PHIM_ACTION,\n          danhSachPhim: data\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nexport const layDanhSachRapApiAction = async () => {\n  return async dispatch => {\n    try {\n      const {\n        data,\n        status\n      } = await Axios({\n        url: DOMAIN + \"/api/QuanLyRap/LayThongTinHeThongRap\",\n        method: \"GET\"\n      });\n\n      if (status === 200) {\n        dispatch({\n          type: LAY_DANH_SACH_RAP_ACTION,\n          danhSachRap: data\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nexport const layLichChieuHeThongRapApiAction = async maHeThongRap => {\n  return async dispatch => {\n    try {\n      const {\n        data,\n        status\n      } = await Axios({\n        url: DOMAIN + `/api/QuanLyRap/LayThongTinLichChieuHeThongRap?maHeThongRap=${maHeThongRap}&maNhom=GP01`,\n        method: \"GET\"\n      });\n\n      if (status === 200) {\n        dispatch({\n          type: LAY_LICH_CHIEU_HE_THONG_RAP_ACTION,\n          danhSachLichChieuHTR: data\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nexport const layChiTietPhimApiAction = async maPhim => {\n  return async dispatch => {\n    try {\n      const {\n        data,\n        status\n      } = await Axios({\n        url: DOMAIN + `/api/QuanLyRap/LayThongTinLichChieuPhim?MaPhim=${maPhim}`,\n        method: \"GET\"\n      });\n\n      if (status === 200) {\n        dispatch({\n          type: \"LAY_CHI_TIET_PHIM\",\n          chiTietPhim: data\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nexport const layThongTinPhongVeApiAction = async maLichChieu => {\n  return async dispatch => {\n    try {\n      const {\n        data,\n        status\n      } = await Axios({\n        url: DOMAIN + `/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${maLichChieu}`,\n        method: 'GET'\n      });\n\n      if (status === 200) {\n        dispatch({\n          type: \"LAY_THONG_TIN_PHONG_VE\",\n          thongTinPhongVe: data\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nexport const datGheAction = (ma, stt, gia) => {\n  return {\n    type: \"DAT_GHE\",\n    gheDangDat: {\n      maGhe: ma,\n      stt: stt,\n      giaVe: gia\n    }\n  };\n};\nexport const datVeApiAction = async thongTinVe => {\n  return async dispatch => {\n    var result = {\n      message: \"\",\n      status: \"\",\n      code: 200\n    };\n\n    try {\n      let {\n        data,\n        status\n      } = await Axios({\n        url: DOMAIN + \"/api/QuanLyDatVe/DatVe\",\n        method: \"post\",\n        data: thongTinVe,\n        headers: {\n          'Authorization': 'Bearer ' + localStorage.getItem(ACCESSTOKEN)\n        }\n      });\n      dispatch(await layThongTinPhongVeApiAction(thongTinVe.maLichChieu));\n      result.message = \"Đặt vé thành công !\";\n      result.status = \"success\";\n      result.code = 200;\n    } catch (err) {\n      result.message = \"Đặt vé thất bại\";\n      result.status = \"error\";\n      result.code = 500;\n    }\n\n    return result;\n  };\n};","map":{"version":3,"sources":["E:/FRONTEND/webphim/src/redux/actions/QuanLyPhimActions.js"],"names":["Axios","LAY_DANH_SACH_PHIM_ACTION","LAY_DANH_SACH_RAP_ACTION","LAY_LICH_CHIEU_HE_THONG_RAP_ACTION","ACCESSTOKEN","DOMAIN","layDanhSachPhimApiAction","dispatch","data","status","url","method","type","danhSachPhim","err","console","log","layDanhSachRapApiAction","danhSachRap","layLichChieuHeThongRapApiAction","maHeThongRap","danhSachLichChieuHTR","layChiTietPhimApiAction","maPhim","chiTietPhim","layThongTinPhongVeApiAction","maLichChieu","thongTinPhongVe","datGheAction","ma","stt","gia","gheDangDat","maGhe","giaVe","datVeApiAction","thongTinVe","result","message","code","headers","localStorage","getItem"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\r\nimport { LAY_DANH_SACH_PHIM_ACTION } from \"../const/QuanLyPhimConst\";\r\nimport { LAY_DANH_SACH_RAP_ACTION } from \"../const/QuanLyPhimConst\";\r\nimport { LAY_LICH_CHIEU_HE_THONG_RAP_ACTION } from \"../const/QuanLyPhimConst\";\r\nimport { ACCESSTOKEN, DOMAIN } from \"../../Util/Config\";\r\n\r\nexport const layDanhSachPhimApiAction = async () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const { data, status } = await Axios({\r\n                url: DOMAIN + \"/api/QuanLyPhim/LayDanhSachPhim?maNhom=GP01\",\r\n                method: \"GET\",\r\n            });\r\n            if (status === 200) {\r\n                dispatch({\r\n                    type: LAY_DANH_SACH_PHIM_ACTION,\r\n                    danhSachPhim: data,\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const layDanhSachRapApiAction = async () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const { data, status } = await Axios({\r\n                url: DOMAIN + \"/api/QuanLyRap/LayThongTinHeThongRap\",\r\n                method: \"GET\",\r\n            });\r\n            if (status === 200) {\r\n                dispatch({\r\n                    type: LAY_DANH_SACH_RAP_ACTION,\r\n                    danhSachRap: data,\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n};\r\n\r\nexport const layLichChieuHeThongRapApiAction = async (maHeThongRap) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const { data, status } = await Axios({\r\n                url: DOMAIN + `/api/QuanLyRap/LayThongTinLichChieuHeThongRap?maHeThongRap=${maHeThongRap}&maNhom=GP01`,\r\n                method: \"GET\",\r\n            });\r\n            if (status === 200) {\r\n                dispatch({\r\n                    type: LAY_LICH_CHIEU_HE_THONG_RAP_ACTION,\r\n                    danhSachLichChieuHTR: data,\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n};\r\n\r\nexport const layChiTietPhimApiAction = async (maPhim) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const { data, status } = await Axios({\r\n                url: DOMAIN + `/api/QuanLyRap/LayThongTinLichChieuPhim?MaPhim=${maPhim}`,\r\n                method: \"GET\",\r\n            });\r\n            if (status === 200) {\r\n                dispatch({\r\n                    type: \"LAY_CHI_TIET_PHIM\",\r\n                    chiTietPhim: data,\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n};\r\nexport const layThongTinPhongVeApiAction = async (maLichChieu) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const { data, status } = await Axios({\r\n                url: DOMAIN +`/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${maLichChieu}`,\r\n                method: 'GET'\r\n            });\r\n            if (status === 200) {\r\n                dispatch({\r\n                    type: \"LAY_THONG_TIN_PHONG_VE\",\r\n                    thongTinPhongVe: data,\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n};\r\n\r\nexport const datGheAction = (ma, stt, gia) => {\r\n    return {\r\n        type: \"DAT_GHE\",\r\n        gheDangDat: {\r\n            maGhe: ma,\r\n            stt: stt,\r\n            giaVe: gia\r\n        },\r\n    };\r\n};\r\n\r\n\r\n\r\nexport const datVeApiAction = async (thongTinVe) => {\r\n    return async (dispatch) => {\r\n        var result = {\r\n            message:\"\",\r\n            status: \"\",\r\n            code: 200\r\n        };\r\n        try {\r\n            let { data, status } = await Axios({\r\n                url: DOMAIN + \"/api/QuanLyDatVe/DatVe\",\r\n                method: \"post\",\r\n                data: thongTinVe,\r\n                headers: { 'Authorization': 'Bearer ' + localStorage.getItem(ACCESSTOKEN) }\r\n            });\r\n            dispatch(await layThongTinPhongVeApiAction(thongTinVe.maLichChieu));\r\n\r\n            result.message = \"Đặt vé thành công !\";\r\n            result.status = \"success\";\r\n            result.code = 200;\r\n         \r\n        } catch (err) {\r\n            result.message = \"Đặt vé thất bại\";\r\n            result.status = \"error\";\r\n            result.code = 500;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}